syntax = "proto3";

option go_package = "/client;main";

service FaceRecognitionService {
  rpc DetectFaces(DetectFacesRequest) returns (DetectFacesResponse);
  rpc RecognizeFaces(RecognizeFacesRequest) returns (RecognizeFacesResponse);
}
message RecognizeFacesRequest {
  repeated Face faces = 1;
  bytes image = 2;
}

message RecognizeFacesResponse {
  DetectFaceStatus.Enum status = 1;
  bool valid = 2;
}

message DetectFacesRequest {
  repeated bytes images = 1;
}

message DetectFacesResponse {
  DetectFaceStatus.Enum status = 1;
  repeated Face faces = 2;
}

message DetectFaceStatus {
  enum Enum {
    ENUM_UNSPECIFIED = 0;
    ENUM_OK = 1;
    ENUM_FAILED = 2;
    ENUM_NO_FACES = 3;
    ENUM_NO_MATCH = 4;
  }
}

message Face {
  repeated float landmarks = 1;
}
